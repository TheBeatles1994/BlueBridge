# 深信服

>> 20180622 面试准备
>> 链接：https://www.kanzhun.com/gsmsh10773710.html
>> 链接：https://blog.csdn.net/qq_29606255/article/details/79143233
>> 链接：https://blog.csdn.net/bangdingshouji/article/details/78173742
>> 链接：https://www.nowcoder.com/discuss/49611

## malloc和new的异同
### 不同
1. 构造函数： new除了申请空间之外还会调用构造函数，而malloc仅仅是申请空间
2. 类型： new是一个operator运算符，是可以重写的；而malloc是一个函数
3. 返回类型： new返回的是申请类的对象的指针，而malloc返回void*
4. 失败情况：new会throw错误，而malloc会返回NULL
6. override重写：new可以
7. 分配大小：new是编译器为我们分配空间，而malloc是我们手写的空间
#### 相同
1. 内存分配：malloc是从heap堆中分配的内存，而new是从自由存储区（free store）获取的，个人理解两个是一样的东西，只是语言不一样所以叫法不一样

## 拷贝构造函数在什么时候被调用
1. 对象在创建时使用其他的对象初始化，如：Person p(q);Person p = q;
2. 对象作为函数的参数进行值传递时，如f(p);
### 与赋值运算符的区别
如果对象在声明的同时将另一个已存在的对象赋给它，就会调用复制构造函数；如果对象已经存在，然后将另一个已存在的对象赋给它，调用的就是赋值运算符(重载)
### 注意点
若类中有变量是指针（需要动态分配内存），就需要重写拷贝构造函数，使得从浅拷贝到深拷贝。

## 一共四个人过桥，每个通过桥的时间为1,2,5,8分钟，他们只有一个手电筒，桥每次只能承受两个人的重量，问你怎么过桥最快？换成是一堆人该怎么办？
1. 思路是让最快的先过去，然后每次回来一个最快的，慢的都过去了然后快的再过去
2. 这道题就是先让1、2过去，然后1回来，5、8过去，然后2回来，然后1、2一起走。

## 怎么比较两个结构体相等？
1. 若这两个结构体之前就确定好了对齐数字（比如用calloc用0初始化结构体所有字节），那么就可以用memcmp函数（memcmp是比较内存区域buf1和buf2的前count个字节）

## A函数调用了B函数，这时候在B中添加成员函数，问A需不需要重新编译？在C和C++ 中分别需不需要重新编译。
1. A、B都要重新编译
2. 若B是静态库，那么A就不需要了

## 指针传参和引用传参的区别
1. 指针传入的是指针变量的拷贝，当传入一个指针变量，且为该指针重新分配一个空间时，原来的指针没有发生任何变化
2. 指针的引用则不是，引用实际上就是原变量，就是换了个名字

>> 链接：https://blog.csdn.net/wh_sjc/article/details/70283843
>> 链接：https://www.2cto.com/kf/201711/696600.html
>> 链接：
## 进程间的五种通信方式介绍
### 1. 管道(无名管道)
- 特点
- - 它是半双工的（即数据只能在一个方向上流动），具有固定的读端和写端。
- - 它只能用于具有亲缘关系的进程之间的通信（也是父子进程或者兄弟进程之间）。
- - 它可以看成是一种特殊的文件，对于它的读写也可以使用普通的read、write 等函数。但是它不是普通的文件，并不属于其他任何文件系统，并且只存在于内存中。
- 原型
- - int pipe(int fd[2]);    // 返回值：若成功返回0，失败返回-1
- - 当一个管道建立时，它会创建两个文件描述符：fd[0]为读而打开，fd[1]为写而打开。
```
#include<stdio.h>
#include<unistd.h>
 
int main()
{
    int fd[2];  // 两个文件描述符
    pid_t pid;
    char buff[20];

    if(pipe(fd) < 0)  // 创建管道
        printf("Create Pipe Error!\n");

    if((pid = fork()) < 0)  // 创建子进程
       printf("Fork Error!\n");
    else if(pid > 0)  // 父进程
    {
       close(fd[0]); // 关闭读端
       write(fd[1], "hello world\n", 12);
    }
    else
    {
        close(fd[1]); // 关闭写端
        read(fd[0], buff, 20);
        printf("%s", buff);
    }
 
    return 0;
}
```
### FIFO（命名管道）
- 特点
- - FIFO可以在无关的进程之间交换数据，与无名管道不同。
- - FIFO有路径名与之相关联，它以一种特殊设备文件形式存在于文件系统中。
### 消息队列
暂不看，桃子说out
### 信号量
- 特点
- - 信号量用于进程间同步，若要在进程间传递数据需要结合共享内存
- - 信号量基于操作系统的 PV 操作，程序对信号量的操作都是原子操作。（P表示通过的意思，V表示释放的意思。）
- - 每次对信号量的 PV 操作不仅限于对信号量值加 1 或减 1，而且可以加减任意正整数。
- - 支持信号量组。

### 共享内存
重要







