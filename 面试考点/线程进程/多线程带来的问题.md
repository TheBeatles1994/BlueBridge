# 多线程带来的问题
1. 编写线程安全的函数，比如若里面出现static变量或全局变量，用锁来保证不会同时多个线程同时设置该值（保证序列化serialize）。
2. 调试困难（需要自己亲自测试）
3. 死锁问题

# 产生死锁的四个必要条件
1. 互斥条件：一个资源每次只能被一个进程使用，即在一段时间内某资源仅为一个进程所占有。此时若有其他进程请求该资源，则请求进程只能等待。
2. 请求与保持条件：进程已经保持了至少一个资源，但又提出了新的资源请求，而该资源已被其他进程占有，此时请求进程被阻塞，但对自己已获得的资源保持不放。
3. 不可剥夺条件:进程所获得的资源在未使用完毕之前，不能被其他进程强行夺走，即只能由获得该资源的进程自己来释放（只能是主动释放)。
4. 循环等待条件: 若干进程间形成首尾相接循环等待资源的关系

这四个条件是死锁的必要条件，只要系统发生死锁，这些条件必然成立，而只要上述条件之一不满足，就不会发生死锁。

# 死锁解决思路
1. 改变加锁顺序
2. 设定加锁时限